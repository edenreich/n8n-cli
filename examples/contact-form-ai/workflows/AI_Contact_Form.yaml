---
active: false
connections:
  Email Response Structure:
    ai_outputParser:
      - - index: 0
          node: Summary AI Agent
          type: ai_outputParser
  Groq Chat Model:
    ai_languageModel:
      - - index: 0
          node: Summary AI Agent
          type: ai_languageModel
  Sample Data:
    main:
      - - index: 0
          node: Summary AI Agent
          type: main
  Send Email:
    main:
      - - index: 0
          node: Respond to Webhook
          type: main
  Summary AI Agent:
    main:
      - - index: 0
          node: Send Email
          type: main
  Webhook:
    main:
      - - index: 0
          node: Summary AI Agent
          type: main
  When clicking ‘Test workflow’:
    main:
      - - index: 0
          node: Sample Data
          type: main
name: AI Contact Form
nodes:
  - id: 26476cd4-4435-4887-b419-ea2aaf703fd3
    name: Webhook
    parameters:
      httpMethod: POST
      options:
        allowedOrigins: https://example.com
        ignoreBots: false
      path: ai-contact-form-submission
      responseMode: responseNode
    position:
      - -2020
      - -840
    type: n8n-nodes-base.webhook
    webhookId: e2103bd1-93dc-45b0-835a-50d87daa3ae1
  - id: 776bb126-2715-4b6c-90c6-356624500d84
    name: Respond to Webhook
    parameters:
      options:
        responseCode: 200
    position:
      - -1200
      - -940
    type: n8n-nodes-base.respondToWebhook
  - credentials:
      smtp:
        id: YkTaKDvPWacL6fvE
        name: Mailgun
    id: 2a6620a6-a991-4f8f-be84-c49c4a923fc2
    name: Send Email
    parameters:
      emailFormat: text
      fromEmail: info@eden-reich.com
      subject: ==New AI-Analyzed Contact from {{ $node["Sample Data"].json.body.name }}
      text: |-
        ==New Contact Form Submission (AI-Analyzed)

        Original Details:
        -----------------
        Name: {{ $node["Sample Data"].json.body.name }}
        Email: {{ $node["Sample Data"].json.body.email }}
        Message: {{ $node["Sample Data"].json.body.message }}

        AI Analysis:
        ------------
        {{ $node["Summary AI Agent"].json.aiSummary }}

        Response Suggestion:
        ------------------
        {{ $node["Summary AI Agent"].json.responseSuggestion }}

        ---
        This message was processed by AI and sent from your website contact form.
      toEmail: eden.reich@gmail.com
    position:
      - -1420
      - -940
    type: n8n-nodes-base.emailSend
    typeVersion: 2.1
    webhookId: 1f2bb54e-e3aa-4b15-88fa-1426f4e66b82
  - id: e93e6fc6-1fac-4e51-a828-d1c49b0c8020
    name: Summary AI Agent
    parameters:
      hasOutputParser: true
      options:
        systemMessage: =You are a customer service AI assistant. You're analyzing a contact form submission.
      promptType: define
      text: |-
        =User's information:
        Name: {{ $json.body.name }}
        Email: {{ $json.body.email }}
        Message: {{ $json.body.message }}

        Please provide:
        1. A concise summary of the customer's message (max 3 sentences)
        2. A categorization of the message (question, complaint, feedback, request, etc.)
        3. The general sentiment of the message (positive, neutral, negative)
        4. A suggested response to the customer

        Format your response as a JSON with these keys:
        {
          "aiSummary": "...",
          "category": "...",
          "sentiment": "...",
          "responseSuggestion": "..."
        }
    position:
      - -1800
      - -940
    type: '@n8n/n8n-nodes-langchain.agent'
    typeVersion: 1.9
  - credentials:
      groqApi:
        id: 3iRclTuYupCAu4jX
        name: Groq account
    id: 01d47581-fbf6-4dbc-b36c-92cd8fcd0ee4
    name: Groq Chat Model
    parameters:
      model: deepseek-r1-distill-llama-70b
    position:
      - -1820
      - -720
    type: '@n8n/n8n-nodes-langchain.lmChatGroq'
    typeVersion: 1
  - id: 7f2cbd62-cbb3-4c76-8304-870abaac84de
    name: Email Response Structure
    parameters:
      jsonSchemaExample: |-
        {
        	"aiSummary": "...",
        	"category": "...",
            "sentiment": "...",
            "responseSuggestion": "..."
        }
    position:
      - -1620
      - -720
    type: '@n8n/n8n-nodes-langchain.outputParserStructured'
    typeVersion: 1.2
  - id: db663cd0-805c-4608-88e7-20adef11f318
    name: Sample Data
    parameters:
      jsonOutput: |-
        {
          "body": {
            "name": "John Smith",
            "email": "john.smith@example.com",
            "message": "I recently purchased your product and I'm having trouble with the installation. The manual says I should be able to connect it directly to my home network, but it's not being recognized. Could you please help me troubleshoot this issue? I've already tried restarting both the device and my router.",
            "category": "support",
            "priority": "medium"
          }
        }
      mode: raw
    position:
      - -2020
      - -1040
    type: n8n-nodes-base.set
    typeVersion: 3.4
  - id: 92f077af-e775-4ba7-8cb6-00b162861a7d
    name: When clicking ‘Test workflow’
    position:
      - -2240
      - -1040
    type: n8n-nodes-base.manualTrigger
    typeVersion: 1
